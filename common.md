# Общая информация

## Идеи
* по максимуму использовать уже готовые инструменты и библиотеки
* у блока есть модель, дочерние блоки отражают ее состояние, передаем данные в блок через его методы и методы модели, получаем данные из блока через его методы ичерез подписку на его события
* общий подход вне зависимости от места рендеринга шаблона (клиент/сервер)
* нет логики предметной области в шаблоне, разрешена проверка условия и цикл по элементам коллекции + использование хелперов для простого форматирования
* однонаправленное движение данных: из модели в дочерние блоки через привязки, от дочерних блоков в обработчики событий в родительском блоке, из обработчиков - в модель через логику блока
* Серверные модели не нужны: модель - объект с данными, меняющимися во времени, на сервере нет поведения, только шаблонизация
* навешивать данные через data-атрибуты (на сервере) в шаблоне или через data property в DOM элементах (на клиенте)
* блок знает только о дочерних блоках, которые являются его элементами
* блоки-обертки (например, общий шаблон страницы): родитель определяет блок-обертку и контентный блок, передает контентный блок в обертку в качестве параметра 
* TODO

## Жизненный цикл
* подготовка данных 
* шаблонизация (на сервере или на клиенте)
* инициализация на клиенте (модель, элементы, привязка, обработчики событий)
* обработка событий дочерних блоков и DOM элементов: выполнение логики приложения
* изменение состояния блока (с автоматическим изменением представления) + выполнение прямых действий над представлением + генерация событий наружу

## Что нужно сделать
* инструменты: extend, events (on, off, trigger), bindings (типы, декларативное описание), models (defaults, parse & serialize, events), валидация (декларативное описание, события, silent)
* базовый клиентский блок (bindings, events (обработчики), triggers (пробрасывание событий), elems (ссылки на элементы))
* routing
* шаблонизация

## Открытые вопросы
* блок и модель - один и тот же объект?
* инструменты (статические методы и прототипы) - отдельная техгология
* binding сложных объектов
* зачем указывать депсы в клиентских модулях, если они указаны глобально для блока
* декларативное пробрасывание событий на уровень выше
* подумать над примешиванием блоков (являются ли они блоками), например, элементы модульной сетки (про модульную сетку - похоже, это блок-обертка с переменным числом контентных блоков)
